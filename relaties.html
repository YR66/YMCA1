<!DOCTYPE html>
<html lang="nl">
><head>
    <meta charset="utf-8"/>
    <title>YMCA</title>
    <link rel="stylesheet" href="bootstrap-4.2.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="bootstrap-4.2.1-dist/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v5.5.0/js/all.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>
        jQuery(document).ready(function($){
            $("#header").load("header.html");
            $("#footer").load("footer.html");
        });
    </script>

    <script>

        $(document).ready( function() {
            $.ajax('http://localhost:8080/relaties', {'method':'GET'})
                .done( function(data) {
                    $.each(data, function(idx, el) {
                        let h = `<tr class='dpt' id='${el.relatieId}'><td>${el.relatieId}</td><td>${el.naam}</td><td>${el.adres}</td><td>${el.postcode}</td><td>${el.woonplaats}</td><td>${el.telefoonnummer}</td><td>${el.email}</td><td>${el.organisatie}</td></tr>`
                        $("#relaties").html($("#relaties").html() + h)
                    })
                })
                .fail( function(e) { console.log(e)} )

            $("#relaties").on('click', '.dpt', function(el) { console.log(el.currentTarget.id) })
        })

    </script>

</head>

<body>


<!--- Start Navbar -->
<div id="header"></div>
<!--- End Navbar -->

<div class="formulier-totaal">
    <div class="narrow text-center">
        <div class col-12>
            <h3 class="heading">Overzicht relaties</h3>
        </div>
        <div>
        <button class="btn btn-primary btn-sm custom-btn"> <a href="relatie.html">Relatie toevoegen of aanpassen</a></button>
        <br>
        <br>
        </div>

        <div class="row">
            <table id="relaties" class="table getOffertes-table">

                <div class="col-sm-1">
                    <th>Nummer</th>
                </div>


                <div class="col-sm-2">
                    <th>Naam </th>
                </div>

                <div class="col-sm-2">
                    <th>Adres </th>
                </div>

                <div class="col-sm-1">
                    <th>Postcode</th>
                </div>

                <div class="col-sm-1">
                    <th>Woonplaats</th>
                </div>

                <div class="col-sm-1">
                    <th>Telefoon</th>
                </div>

                <div class="col-sm-1">
                    <th>Email </th>
                </div>

                <div class="col-sm-1">
                    <th>Organisatie</th>
                </div>
            </table>
        </div>
    </div>
</div>
</div>


<!--- Start Footer-->
<div id="footer"></div>
<!--- End Footer-->

</body></html>
